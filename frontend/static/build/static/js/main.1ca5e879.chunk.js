(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{35:function(e,t,n){},38:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var s,a=n(1),c=n.n(a),o=n(23),r=n.n(o),l=(n(35),n(6)),i=n.n(l),b=n(12),j=n(8),d=(n(37),n(38),n(2)),u=n(24),m=n(25),h=n.n(m),x=n(20),O=n(0);var p=function(e){var t,n=Object(a.useState)(),c=Object(j.a)(n,2),o=c[0],r=c[1],l=Object(a.useState)(),i=Object(j.a)(l,2),b=i[0],d=i[1],m=Object(a.useState)(),p=Object(j.a)(m,2),f=p[0],v=p[1],g=x.default.p(s||(s=Object(u.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"]))),y=Object(O.jsx)("div",{style:{color:"blue"},className:"readMore",children:"Read More"});console.log(e.books),console.log(e),console.log(e.books.items);var k=null===(t=e.books.items)||void 0===t?void 0:t.map((function(e){var t;return Object(O.jsxs)("div",{className:"backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(O.jsx)("h2",{children:e.volumeInfo.title}),Object(O.jsx)("img",{src:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail,alt:""}),Object(O.jsxs)("p",{children:[e.volumeInfo.authors,", "]}),Object(O.jsx)("p",{children:e.volumeInfo.description?Object(O.jsx)(g,{children:Object(O.jsx)(h.a,{text:e.volumeInfo.description,min:25,ideal:50,max:1e7,style:{cursor:"pointer"},readMoreText:y})}):Object(O.jsx)("p",{"classNamet-3":!0,shadow:!0,"p-3":!0,"mb-5":!0,"bg-body":!0,rounded:!0,"mt-2":!0,children:"No Image Available"})}),Object(O.jsxs)("p",{children:["Category: ",e.volumeInfo.categories]}),Object(O.jsxs)("p",{children:[e.volumeInfo.pageCount," pages"]})]})}));return Object(O.jsxs)(O.Fragment,{children:[k,Object(O.jsx)("h2",{className:"newArticleForm text-center mt-3",children:"Find a Book"}),Object(O.jsxs)("form",{id:"form",className:"mt-3 ds-flex justify-content-center mt-3",children:[Object(O.jsx)("a",{name:"form"}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Title"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"bookTitle",placeholder:"Title",onChange:function(e){r(e.target.value),console.log(o)},name:"title",value:o})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"body",children:"Author"}),Object(O.jsx)("textarea",{type:"text",className:"form-control",id:"bookAuthor",placeholder:"Author",onChange:function(e){d(e.target.value),console.log(b)},name:"author",value:b})]}),Object(O.jsx)("label",{htmlFor:"body",children:"Category"}),Object(O.jsx)("input",{className:"form-control",onChange:function(e){v(e.target.value),console.log(f)},name:"categories",value:f,placeholder:"Category"}),Object(O.jsx)("div",{className:"form-group text-left mb-3",children:Object(O.jsx)("button",{type:"button",className:" homeButton form-control  btn btn-dark",id:"articleOptions",onClick:function(t){t.preventDefault();var n=t.target.value;e.getBooks(n)},required:!0,name:"submit",value:"SUBMIT",children:"Submit"})})]})]})},f=n(4);var v=function(e){return e.admin.is_staff&&e.isAuth?Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700,fontSize:"30px"},href:"/",children:"Chatty Books"}),Object(O.jsx)("div",{class:"date"}),Object(O.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{className:"",style:{textDecoration:"none"},to:"/home",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item mx-1 mt-2",children:Object(O.jsx)(f.b,{to:"/profile",children:"Profile"})}),Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/books",children:"Books"})}),Object(O.jsx)("li",{className:"nav-item mt-2",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/groups",children:"Groups"})}),Object(O.jsx)("li",{className:"btn-link",children:Object(O.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})}):e.isAuth&&!e.admin.is_staff?Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700,fontSize:"30px"},href:"/",children:"Chatty Books"}),Object(O.jsx)("div",{class:"date"}),Object(O.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{className:"",style:{textDecoration:"none"},to:"/home",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{className:"",style:{textDecoration:"none"},to:"/profile",children:"Profile"})}),Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/books",children:"Books"})}),Object(O.jsx)("li",{className:"nav-item mt-2",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/groups",children:"Groups"})}),Object(O.jsx)("li",{className:"btn-link",children:Object(O.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})}):Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700,fontSize:"30px"},href:"/",children:"Chatty Books"}),Object(O.jsx)("div",{class:"date"}),Object(O.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{className:"",style:{textDecoration:"none"},to:"/home",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item mt-2",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/books",children:"Books"})}),Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/register",children:"Register"})}),Object(O.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(O.jsx)(f.b,{style:{textDecoration:"none"},to:"/login",children:"Login"})}),Object(O.jsx)("li",{className:"btn-link",children:Object(O.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})})};var g=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Home Page"}),Object(O.jsx)("div",{className:"groups",children:Object(O.jsx)("h2",{children:"Groups "})}),Object(O.jsx)("div",{className:"newBooks",children:Object(O.jsx)("h2",{children:"Books"})})]})})},y=n(14),k=n(15),N=n(10),w=n.n(N);var C=function(e){function t(t){var n=t.target,s=n.name,a=n.value;e.setUsers((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(y.a)({},s,a))}))}function n(e){console.warn(e)}function s(){return(s=Object(b.a)(i.a.mark((function t(s){var a,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":w.a.get("csrftoken")},body:JSON.stringify(e.users)},t.next=4,fetch("/rest-auth/login/",a).catch(n);case 4:if(c=t.sent){t.next=9;break}console.log(c),t.next=15;break;case 9:return console.log(c),t.next=12,c.json();case 12:o=t.sent,w.a.set("Authorization","Token ".concat(o.key)),e.setIsAuth(!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(O.jsx)(d.a,{to:"/home"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"Login-title  d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded",style:{fontFamily:"Oswald"},children:"Login"}),Object(O.jsxs)("div",{className:"container container-md mt-4 shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(O.jsxs)("form",{className:"form-signin form  d-flex justify-content-center mt-3",onSubmit:function(e){return s.apply(this,arguments)},children:[Object(O.jsx)("input",{type:"text",className:"form-user mx-3",id:"username",placeholder:"Enter Username",required:!0,name:"username",onChange:t,value:e.users.username}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Enter Password",required:!0,name:"password",onChange:t,value:e.users.password}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)("button",{type:"submit",className:"homeButton Login-btn btn btn-dark mt-3",style:{fontFamily:"Oswald"},children:"Login"})})})]}),Object(O.jsx)("h2",{className:" d-flex justify-content-center mt-4",style:{fontFamily:"Oswald"},children:"Need to Register?"}),Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{class:"col text-center",children:Object(O.jsx)("button",{type:"button",className:"homeButton btn btn-dark",style:{fontFamily:"Oswald"},onClick:function(){return e.setState({isAuth:!1,selection:"registration"})},children:"Register"})})})})]})]})};var S=function(e){var t=Object(a.useState)({username:"",email:"",password1:"",password2:""}),n=Object(j.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(null),r=Object(j.a)(o,2),l=(r[0],r[1]),u=function(e){var t=e.target,n=t.name,s=t.value;c((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(y.a)({},n,s))}))};function m(e){console.warn(e)}function h(){return(h=Object(b.a)(i.a.mark((function t(n){var a,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s.password1===s.password2){t.next=5;break}l("Passwords do not match"),t.next=18;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":w.a.get("csrftoken")},body:JSON.stringify(s)},t.next=8,fetch("/rest-auth/registration/",a).catch(m);case 8:if(c=t.sent){t.next=13;break}console.log(c),t.next=18;break;case 13:return t.next=15,c.json();case 15:o=t.sent,w.a.set("Authorization","Token ".concat(o.key)),e.setIsAuth(!0);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(O.jsx)(d.a,{to:"/home"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"Registration-title mt-3 d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded",children:"Register"}),Object(O.jsx)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-2",children:Object(O.jsx)("form",{className:"form registrationForm d-flex justify-content-center mt-3",onSubmit:function(e){return h.apply(this,arguments)},children:Object(O.jsxs)("div",{className:"form-group form-control col-lg-1",children:[Object(O.jsx)("input",{type:"text",className:"form-user form-control  mt-3",id:"username",placeholder:"enter username",required:!0,name:"username",onChange:u,value:s.username}),Object(O.jsx)("input",{type:"text",className:"form-control col-xs-4 mt-3",id:"email",placeholder:"enter email",required:!0,name:"email",onChange:u,value:s.email}),Object(O.jsx)("input",{type:"password",className:"form-control col-xs-4 mt-3",id:"password1",placeholder:"enter password",required:!0,name:"password1",onChange:u,value:s.password1}),Object(O.jsx)("input",{type:"password",className:"form-control col-xs-4 mt-3",id:"password2",placeholder:"confirm password",required:!0,name:"password2",onChange:u,value:s.password2}),Object(O.jsx)("button",{type:"submit",className:"registration-btn btn btn-dark d-flex justify-content-center mt-3",style:{fontFamily:"Oswald"},children:"Register"})]})})})]})},F=n(30),A=n.n(F);var D=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"Profile"})})};var T=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"Groups"})})};var B=function(){var e=Object(a.useState)({username:"",email:"",is_staff:null}),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)({alias:"",image:null}),o=Object(j.a)(c,2),r=(o[0],o[1],Object(a.useState)({username:"",password:""})),l=Object(j.a)(r,2),u=l[0],m=l[1],h=Object(a.useState)(null),x=Object(j.a)(h,2),f=x[0],y=x[1],k=Object(a.useState)([]),N=Object(j.a)(k,2),F=N[0],B=N[1],I=Object(d.g)();function L(){return(L=Object(b.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q=robinbson+Crusoe&key=");case 3:if((n=e.sent).ok){e.next=8;break}console.log(n),e.next=14;break;case 8:return e.next=10,n.json();case 10:s=e.sent,B(s),console.log({data:s}),console.log(F);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(b.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":w.a.get("csrftoken")},body:JSON.stringify(u)},e.next=3,fetch("/rest-auth/logout/",n);case 3:if(s=e.sent){e.next=8;break}console.log(s),e.next=15;break;case 8:return console.log(s),e.next=11,s.json();case 11:e.sent,w.a.remove("Authorization"),y(!1),I.push("/login");case 15:d.a;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:if((t=e.sent).ok){e.next=8;break}console.log("not ok"),y(!1),e.next=16;break;case 8:return e.next=10,t.json();case 10:a=e.sent,s(a),console.log({data:a}),y(!0),console.log({admin:n}),console.log(n.is_staff);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(v,{handleLogoutSubmit:function(e){return R.apply(this,arguments)},isAuth:f,admin:n}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/profile",children:Object(O.jsx)(D,{})}),Object(O.jsx)(d.b,{path:"/groups",children:Object(O.jsx)(T,{})}),Object(O.jsx)(d.b,{path:"/login",children:Object(O.jsx)(C,{isAuth:f,setIsAuth:y,users:u,setUsers:m})}),Object(O.jsx)(d.b,{path:"/register",children:Object(O.jsx)(S,{isAuth:f,setIsAuth:y})}),Object(O.jsx)(d.b,{path:"/books",children:Object(O.jsx)(p,{books:F,getBooks:function(e){return L.apply(this,arguments)}})}),Object(O.jsx)(d.b,{path:"/home",children:Object(O.jsx)(g,{})})]}),Object(O.jsx)(A.a,{text:"^",distance:50,breakpoint:908,style:{backgroundColor:"#191C1F",color:"white"},className:"scroll-your-role",speed:50,target:0,icon:Object(O.jsx)("i",{class:"bi bi-caret-up-square"})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),c(e),o(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(f.a,{children:Object(O.jsx)(B,{})})}),document.getElementById("root")),I()}},[[50,1,2]]]);
//# sourceMappingURL=main.1ca5e879.chunk.js.map