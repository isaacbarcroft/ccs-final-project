(this.webpackJsonpstatic = this.webpackJsonpstatic || []).push([[0], { 108: function (e, t, n) { }, 111: function (e, t, n) { }, 118: function (e, t) { }, 126: function (e, t, n) { "use strict"; n.r(t); var o = n(1), s = n.n(o), c = n(46), a = n.n(c), r = (n(108), n(14)), i = n(5), l = n.n(i), d = n(12), u = n(4), b = (n(110), n(111), n(21)), j = n(20), m = n(34), h = n.n(m), p = n(30), x = n(0); var O, f = function (e) { var t = Object(o.useState)(), n = Object(u.a)(t, 2), s = n[0], c = n[1], a = Object(o.useState)(), r = Object(u.a)(a, 2), i = r[0], b = r[1], j = Object(o.useState)(), m = Object(u.a)(j, 2), h = m[0], p = m[1]; ({ props: e }); var O = "https://www.googleapis.com/books/v1/volumes?q=", f = "&key=AIzaSyCLgbfwe2wEaHpDS8n2XBRlU3rgv5Gz7DA"; function v() { return v = Object(d.a)(l.a.mark((function t(n, o, s) { var c, a, r, i, d; return l.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return (n, o, s), c = n ? "+intitle:".concat(n) : "", a = o ? "+inauthor:".concat(o) : "", r = s ? "+subject:".concat(s) : "", t.next = 6, fetch("".concat(O).concat(c).concat(a).concat(r).concat(f)); case 6: if ((i = t.sent).ok) { t.next = 12; break } return (i), t.abrupt("return", null); case 12: return t.next = 14, i.json(); case 14: d = t.sent, e.setBooks(d), ("".concat(O).concat(c).concat(a).concat(r).concat(f)); case 17: case "end": return t.stop() } }), t) }))), v.apply(this, arguments) } return Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("h2", { className: "newArticleForm text-center mt-3", children: "Find a Book" }), Object(x.jsxs)("form", { id: "form", className: "mt-3 ds-flex justify-content-center mt-3", onSubmit: function (e) { e.preventDefault(); var t = e.target.value; ({ searchTerm: t }), ({ title: s }), ({ author: i }), function (e, t, n) { v.apply(this, arguments) }(s, i, h), c(""), b(""), p("") }, children: [Object(x.jsx)("a", { name: "form" }), Object(x.jsxs)("div", { className: "form-group text-left mb-3", children: [Object(x.jsx)("label", { htmlFor: "title", children: "Title" }), Object(x.jsx)("input", { type: "text", className: "form-control", id: "bookTitle", placeholder: "Title", onChange: function (e) { c(e.target.value), (s) }, name: "title", value: s })] }), Object(x.jsxs)("div", { className: "form-group text-left mb-3", children: [Object(x.jsx)("label", { htmlFor: "body", children: "Author" }), Object(x.jsx)("input", { type: "text", className: "form-control", id: "bookAuthor", placeholder: "Author", onChange: function (e) { b(e.target.value), (i) }, name: "author", value: i })] }), Object(x.jsx)("label", { htmlFor: "body", children: "Category" }), Object(x.jsx)("input", { className: "form-control", onChange: function (e) { p(e.target.value), (h) }, name: "categories", value: h, placeholder: "Category" }), Object(x.jsx)("label", { htmlFor: "", children: "Add to Group" }), Object(x.jsx)("div", { className: "form-group text-left mb-3 mt-3", children: Object(x.jsx)("button", { type: "submit", className: " homeButton form-control  btn btn-dark", id: "articleOptions", name: "submit", value: "SUBMIT", children: "Submit" }) })] })] }) }) }, v = n(157), g = n(45); n(118); var y = function (e) { var t, n, s, c = Object(o.useState)(), a = Object(u.a)(c, 2), r = (a[0], a[1], Object(o.useState)(!1)), i = Object(u.a)(r, 2), l = (i[0], i[1], Object(g.b)().enqueueSnackbar), d = Object(o.useState)(!1), m = Object(u.a)(d, 2), y = (m[0], m[1], Object(b.g)()), k = p.default.p(O || (O = Object(j.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"]))), N = Object(x.jsx)("div", { style: { color: "blue" }, className: "readMore", children: "Read More" }); return e.books ? null === (s = e.books.items) || void 0 === s ? void 0 : s.map((function (t) { var n, o, s, c, a, r; ("book", t); var i, d = { author: null === (n = t.volumeInfo.authors) || void 0 === n ? void 0 : n.toString(), title: t.volumeInfo.title, image: null === (o = t.volumeInfo.imageLinks) || void 0 === o ? void 0 : o.thumbnail, description: null === (s = t.volumeInfo.description) || void 0 === s ? void 0 : s.toString(), categories: null === (c = t.volumeInfo.categories) || void 0 === c ? void 0 : c.toString(), page_count: t.volumeInfo.pageCount }; return Object(x.jsx)("div", { className: "row", children: Object(x.jsx)("div", { className: "col-6", children: Object(x.jsxs)("div", { className: "backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsx)("h2", { children: t.volumeInfo.title }), (null === (a = t.volumeInfo.imageLinks) || void 0 === a ? void 0 : a.thumbnail) ? Object(x.jsx)("img", { src: null === (r = t.volumeInfo.imageLinks) || void 0 === r ? void 0 : r.thumbnail, alt: "" }) : Object(x.jsx)("p", { style: { width: "50%" }, className: "noImage t-3 shadow p-3 mb-5 bg-body rounded mt-2 ds-flex justify-content-center", children: "No Image Available" }), Object(x.jsx)("p", { children: "Written by: ".concat(t.volumeInfo.authors) }), Object(x.jsx)("p", { children: t.volumeInfo.description ? Object(x.jsx)(k, { children: Object(x.jsx)(h.a, { text: t.volumeInfo.description, min: 25, ideal: 50, max: 1e7, style: { cursor: "pointer" }, readMoreText: N }) }) : null }), t.volumeInfo.categories ? Object(x.jsxs)("p", { children: ["Category: ", t.volumeInfo.categories] }) : null, t.volumeInfo.pageCount ? Object(x.jsxs)("p", { children: [t.volumeInfo.pageCount, " pages"] }) : null, Object(x.jsx)(v.a, { className: "bookBtn btn btn-dark mx-1", variant: "contained", type: "submit", onClick: (i = "success", function () { e.addBookToLibrary(d, !0), l("Added to Completed", { variant: i }) }), children: "Add To Completed" }), Object(x.jsx)(v.a, { className: "bookBtn btn btn-dark mx-1", variant: "contained", type: "submit", onClick: function (t) { return function () { e.addBookToLibrary(d, !1), l("Added to Library", { variant: t }) } }("success"), children: "Add To Library" })] }) }) }) })) : (null === (t = e.groups) || void 0 === t || t.map((function (e) { return Object(x.jsx)("option", { value: e.name, children: e.name }) })), Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("div", { children: Object(x.jsx)("button", { className: "btn btn-dark mb-3", onClick: function () { y.push("/profile") }, children: "Back to Profile" }) }), Object(x.jsxs)("div", { className: "row", children: [Object(x.jsx)("div", { className: "col-6 mt-3", children: n }), Object(x.jsx)("div", { className: "col shadow p-3 mb-5 bg-body rounded", children: Object(x.jsx)(f, { setBooks: e.setBooks }) })] })] }) })) }, k = n(15), N = n(158), w = n(150); var C = function (e) { return e.admin.is_staff && e.isAuth ? Object(x.jsx)("nav", { className: "navbar navbar-expand-lg navbar-dark bg-dark nav", children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("a", { className: "navbar-brand", style: { fontFamily: "Oswald", weight: 700, fontSize: "30px" }, href: "/", children: "Chatty Books" }), Object(x.jsx)("div", { className: "username d-flex justify-content-center", children: Object(x.jsxs)("p", { className: "d-flex justify-content-center", style: { color: "white", fontFamily: "Oswald" }, children: [" ", Object(x.jsx)("span", { style: { fontWeight: "bold", weight: 700, fontSize: "30px" }, children: "  ".concat(e.admin.username.toUpperCase()) })] }) }), Object(x.jsx)("div", { className: "collapse navbar-collapse nav justify-content-end text-light", id: "navbarResponsive", children: Object(x.jsxs)("ul", { className: "navbar-nav ml-auto text-light", children: [Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { className: "", style: { textDecoration: "none" }, to: "/home", children: "Home" }) }), Object(x.jsx)("li", { className: "nav-item mx-1 mt-2", children: Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "white" }, to: "/profile", children: "Profile" }) }), Object(x.jsx)("li", { className: "nav-item mt-2", children: Object(x.jsx)(k.c, { style: { textDecoration: "none" }, to: "/groups", children: "Groups" }) }), Object(x.jsx)("li", { className: "btn-link", children: Object(x.jsx)("button", { style: { textDecoration: "none" }, className: "btn btn-link logout text-light", type: "button", onClick: function () { return e.handleLogoutSubmit() }, children: "Logout" }) })] }) })] }) }) : e.isAuth && !e.admin.is_staff ? Object(x.jsx)("nav", { className: "navbar navbar-expand-lg navbar-dark bg-dark nav", children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("a", { className: "navbar-brand", style: { fontFamily: "Oswald", weight: 700, fontSize: "30px" }, href: "/", children: "Chatty Books" }), Object(x.jsx)("div", { class: "date", children: Object(x.jsxs)("p", { className: "d-flex justify-content-center", style: { color: "white", fontFamily: "Oswald" }, children: [" WELCOME ", Object(x.jsx)("span", { style: { fontWeight: "bold", marginLeft: "10px" }, children: "  ".concat(e.admin.username.toUpperCase()) })] }) }), Object(x.jsx)("header", { children: Object(x.jsxs)("div", { className: "collapse navbar-collapse nav justify-content-end text-light", id: "navbarResponsive", children: [Object(x.jsxs)("ul", { className: "navbar-nav ml-auto text-light", children: [Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { className: "", style: { textDecoration: "none", color: "white" }, to: "/home", children: "Home" }) }), Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { className: "", style: { textDecoration: "none", color: "white" }, to: "/profile", children: "Profile" }) }), Object(x.jsx)("li", { className: "nav-item mt-2", children: Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "white" }, to: "/groups", children: "Groups" }) }), Object(x.jsx)("li", { className: "btn-link", children: Object(x.jsx)("button", { style: { textDecoration: "none" }, className: "btn btn-link logout text-light", type: "button", onClick: function () { return e.handleLogoutSubmit() }, children: "Logout" }) })] }), Object(x.jsx)(N.a, { style: { fontFamily: "Mochiy Pop P One" }, className: "avatar", sx: { bgcolor: w.a[500] }, children: e.admin.username.slice(0, 1).toUpperCase() })] }) })] }) }) : Object(x.jsx)("nav", { className: "navbar navbar-expand-lg navbar-dark bg-dark nav", children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("a", { className: "navbar-brand", style: { fontFamily: "Oswald", weight: 700, fontSize: "30px" }, href: "/", children: "Chatty Books" }), Object(x.jsx)("div", { class: "date" }), Object(x.jsx)("div", { className: "collapse navbar-collapse nav justify-content-end text-light", id: "navbarResponsive", children: Object(x.jsxs)("ul", { className: "navbar-nav ml-auto text-light", children: [Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { className: "", style: { textDecoration: "none", color: "white" }, to: "/home", children: "Home" }) }), Object(x.jsx)("li", { className: "nav-item mt-2", children: Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "white" }, to: "/books", children: "Books" }) }), Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "white" }, to: "/register", children: "Register" }) }), Object(x.jsx)("li", { className: "nav-item mt-2 mx-1", children: Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "white" }, to: "/login", children: "Login" }) }), Object(x.jsx)("li", { className: "btn-link", children: Object(x.jsx)("button", { style: { textDecoration: "none", color: "white" }, className: "btn btn-link logout text-light", type: "button", onClick: function () { return e.handleLogoutSubmit() }, children: "Logout" }) })] }) })] }) }) }; var S = function (e) { var t = e.groups, n = (e.users, e.books, e.isAuth), s = Object(o.useState)(), c = Object(u.a)(s, 2), a = c[0], i = c[1]; Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/books/all/"); case 2: if ((t = e.sent).ok) { e.next = 7; break } (t), e.next = 12; break; case 7: return e.next = 9, t.json(); case 9: n = e.sent, i(n), ({ data: n }); case 12: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }() }), [, n]); var b = null === a || void 0 === a ? void 0 : a.filter((function (e) { return null === e || void 0 === e ? void 0 : e.finished })); ({ allBooksRead: b }); var j = null === b || void 0 === b ? void 0 : b.map((function (e) { return !0 === (null === e || void 0 === e ? void 0 : e.finished) ? e.page_count : 0 })), m = Object(r.a)(new Set(null === b || void 0 === b ? void 0 : b.filter((function (e) { return "admin" !== e.user_name })))), h = Object(r.a)(new Set(null === m || void 0 === m ? void 0 : m.map((function (e) { return e.user_name.toUpperCase() })))).map((function (e) { return Object(x.jsx)("div", { style: { textDecoration: "none", ListStyleType: "none" }, children: Object(x.jsx)("li", { className: "userLi", style: { textDecoration: "none" }, children: e }) }) })), p = null === b || void 0 === b ? void 0 : b.filter((function (e) { return null === e || void 0 === e ? void 0 : e.user_name })); ({ userTotals: p }); var O = 0, f = (null === a || void 0 === a || a.map((function (e) { return !0 === (null === e || void 0 === e ? void 0 : e.finished) ? O++ : null })), null === j || void 0 === j ? void 0 : j.reduce((function (e, t) { return e + t }))), v = t.map((function (e) { return Object(x.jsx)("div", { children: Object(x.jsx)("h4", { children: e.name }) }) })); return Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("h1", { children: "Home Page" }), Object(x.jsxs)("div", { className: "leaderboard mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsx)("h2", { children: "Leaderboard" }), Object(x.jsxs)("p", { children: ["Total Pages Read:", parseFloat(f)] }), Object(x.jsx)("p", { children: "Chatty Users" }), Object(x.jsx)("ul", { style: { textDecoration: "none" }, children: h })] }), Object(x.jsxs)("div", { className: "groups mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsx)("h2", { children: "Groups " }), v] }), Object(x.jsx)("div", { className: "newBooks mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: Object(x.jsx)("h2", { children: "Books" }) })] }) }) }, I = n(7), T = n(23), B = n(19), F = n.n(B); var _ = function (e) { function t(t) { var n = t.target, o = n.name, s = n.value; e.setUsers((function (e) { return Object(T.a)(Object(T.a)({}, e), {}, Object(I.a)({}, o, s)) })) } function n(e) { console.warn(e) } function o() { return (o = Object(d.a)(l.a.mark((function t(o) { var s, c, a; return l.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return o.preventDefault(), s = { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(e.users) }, t.next = 4, fetch("/rest-auth/login/", s).catch(n); case 4: if (c = t.sent) { t.next = 9; break } (c), t.next = 15; break; case 9: return (c), t.next = 12, c.json(); case 12: a = t.sent, F.a.set("Authorization", "Token ".concat(a.key)), e.setIsAuth(!0); case 15: case "end": return t.stop() } }), t) })))).apply(this, arguments) } return e.isAuth ? Object(x.jsx)(b.a, { to: "/home" }) : Object(x.jsxs)(x.Fragment, { children: [Object(x.jsx)("h2", { className: "Login-title  d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded", style: { fontFamily: "Oswald" }, children: "Login" }), Object(x.jsxs)("div", { className: "container container-md mt-4 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsxs)("form", { className: "form-signin form  d-flex justify-content-center mt-3", onSubmit: function (e) { return o.apply(this, arguments) }, children: [Object(x.jsx)("input", { type: "text", className: "form-user mx-3", id: "username", placeholder: "Enter Username", required: !0, name: "username", onChange: t, value: e.users.username }), Object(x.jsx)("input", { type: "password", id: "password", placeholder: "Enter Password", required: !0, name: "password", onChange: t, value: e.users.password }), Object(x.jsx)("div", { className: "row", children: Object(x.jsx)("div", { className: "text-center", children: Object(x.jsx)("button", { type: "submit", className: "homeButton Login-btn btn btn-dark mt-3", style: { fontFamily: "Oswald" }, children: "Login" }) }) })] }), Object(x.jsx)("h2", { className: " d-flex justify-content-center mt-4", style: { fontFamily: "Oswald" }, children: "Need to Register?" }), Object(x.jsx)("div", { className: "container", children: Object(x.jsx)("div", { className: "row", children: Object(x.jsx)("div", { class: "col text-center", children: Object(x.jsx)("button", { type: "button", className: "homeButton btn btn-dark", style: { fontFamily: "Oswald" }, onClick: Object(x.jsx)(b.a, { to: "/register" }), children: "Register" }) }) }) })] })] }) }; var A, R, L, D = function (e) { var t = Object(o.useState)({ username: "", email: "", password1: "", password2: "" }), n = Object(u.a)(t, 2), s = n[0], c = n[1], a = Object(o.useState)(null), r = Object(u.a)(a, 2), i = (r[0], r[1]), j = function (e) { var t = e.target, n = t.name, o = t.value; c((function (e) { return Object(T.a)(Object(T.a)({}, e), {}, Object(I.a)({}, n, o)) })) }; function m(e) { console.warn(e) } function h() { return (h = Object(d.a)(l.a.mark((function t(n) { var o, c, a; return l.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n.preventDefault(), s.password1 === s.password2) { t.next = 5; break } i("Passwords do not match"), t.next = 18; break; case 5: return o = { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(s) }, t.next = 8, fetch("/rest-auth/registration/", o).catch(m); case 8: if (c = t.sent) { t.next = 13; break } (c), t.next = 18; break; case 13: return t.next = 15, c.json(); case 15: a = t.sent, F.a.set("Authorization", "Token ".concat(a.key)), e.setIsAuth(!0); case 18: case "end": return t.stop() } }), t) })))).apply(this, arguments) } return e.isAuth ? Object(x.jsx)(b.a, { to: "/home" }) : Object(x.jsxs)(x.Fragment, { children: [Object(x.jsx)("h2", { className: "Registration-title mt-3 d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded", children: "Register" }), Object(x.jsx)("div", { className: "shadow p-3 mb-5 bg-body rounded mt-2", children: Object(x.jsx)("form", { className: "form registrationForm d-flex justify-content-center mt-3", onSubmit: function (e) { return h.apply(this, arguments) }, children: Object(x.jsxs)("div", { className: "form-group form-control col-lg-1", children: [Object(x.jsx)("input", { type: "text", className: "form-user form-control  mt-3", id: "username", placeholder: "enter username", required: !0, name: "username", onChange: j, value: s.username }), Object(x.jsx)("input", { type: "text", className: "form-control col-xs-4 mt-3", id: "email", placeholder: "enter email", required: !0, name: "email", onChange: j, value: s.email }), Object(x.jsx)("input", { type: "password", className: "form-control col-xs-4 mt-3", id: "password1", placeholder: "enter password", required: !0, name: "password1", onChange: j, value: s.password1 }), Object(x.jsx)("input", { type: "password", className: "form-control col-xs-4 mt-3", id: "password2", placeholder: "confirm password", required: !0, name: "password2", onChange: j, value: s.password2 }), Object(x.jsx)("button", { type: "submit", className: "registration-btn btn btn-dark d-flex justify-content-center mt-3", style: { fontFamily: "Oswald" }, children: "Register" })] }) }) })] }) }, P = n(89), M = n.n(P), G = n(162), E = n(155), U = n(163), J = function (e) { var t = e.book, n = e.deleteBook, s = e.options, c = e.handleUpdate, a = p.default.p(A || (A = Object(j.a)(["\n        color: #000;\n        :hover {\n            cursor: pointer;\n        }\n    "]))), r = Object(x.jsx)("div", { style: { color: "blue" }, className: "readMore", children: "Read More" }), i = Object(o.useState)(!1), l = Object(u.a)(i, 2), d = l[0], b = l[1], m = Object(o.useState)(t), O = Object(u.a)(m, 2), f = O[0], v = O[1], g = (s.map((function (e) { return Object(x.jsx)("option", { value: e, children: e }) })), Object(o.useState)(2)), y = Object(u.a)(g, 2); y[0], y[1]; function k(e) { (e.target); var t = e.target, n = t.name, o = t.value; (n, o), v((function (e) { return Object(T.a)(Object(T.a)({}, e), {}, Object(I.a)({}, n, o)) })) } return G.a, U.a, E.a, Object(x.jsxs)("div", { className: "backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [!0 === (null === f || void 0 === f ? void 0 : f.finished) ? "Finished" : "Not Finished", Object(x.jsx)("h2", { children: f.title }), f.image ? Object(x.jsx)("img", { src: f.image, alt: "" }) : Object(x.jsx)("p", { style: { width: "50%" }, className: "noImage t-3 shadow p-3 mb-5 bg-body rounded mt-2 ds-flex justify-content-center", children: "No Image Available" }), Object(x.jsx)("p", { children: "Written by: ".concat(f.author) }), Object(x.jsx)("p", { children: f.description ? Object(x.jsx)(a, { children: Object(x.jsx)(h.a, { text: f.description, min: 25, ideal: 50, max: 1e7, style: { cursor: "pointer" }, readMoreText: r }) }) : null }), f.categories ? Object(x.jsxs)("p", { children: ["Category: ", f.categories] }) : null, f.page_count ? Object(x.jsxs)("p", { children: ["Total Pages: ", f.page_count] }) : null, Object(x.jsx)("div", { className: " mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: d ? Object(x.jsxs)("div", { className: "col", children: [Object(x.jsxs)("form", { onSubmit: function (e) { e.preventDefault(), c(f), b(!1) }, children: [Object(x.jsx)("textarea", { onChange: k, type: "text", value: f.comments, name: "comments", placeholder: "Comments" }), Object(x.jsxs)(G.a, { sx: { "& > legend": { mt: 2 } }, children: [Object(x.jsx)(U.a, { component: "legend", children: "My Rating" }), Object(x.jsx)(E.a, { name: "avg_rating", value: parseInt(f.avg_rating), onChange: k })] }), Object(x.jsx)("button", { className: "btn btn-dark mx-1", type: "submit", children: "Update" })] }), Object(x.jsx)("button", { className: "btn btn-dark mx-1 mb-5", type: "button", onClick: function () { return b(!1) }, children: "Cancel" }), Object(x.jsx)("button", { type: "button", id: f.id, onClick: function (e) { return n(e) }, className: "btn btn-dark mx-1 mb-5", children: "Remove Book" })] }) : Object(x.jsxs)("div", { children: [Object(x.jsxs)("p", { children: ["My Thoughts: ", f.comments] }), Object(x.jsxs)("p", { children: ["Pages Read: ", f.page_count] }), Object(x.jsxs)("p", { children: ["My Rating: ", Object(x.jsx)("span", { className: "font-italic", children: f.options })] }), Object(x.jsx)(U.a, { component: "legend", children: "Rating" }), Object(x.jsx)(E.a, { name: "read-only", value: f.avg_rating, readOnly: !0 }), Object(x.jsx)("button", { className: "btn btn-dark mx-1 mb-5", type: "button", onClick: function () { return b(!0) }, children: "Edit" })] }) })] }) }, X = n(159), q = function (e) { var t = e.book, n = e.deleteBook, s = e.options, c = e.handleUpdate, a = e.finishBook, r = p.default.p(R || (R = Object(j.a)(["\n        color: #000;\n        :hover {\n            cursor: pointer;\n        }\n\n\n    "]))), i = Object(x.jsx)("div", { style: { color: "blue" }, className: "readMore", children: "Read More" }), l = Object(o.useState)(!1), d = Object(u.a)(l, 2), b = d[0], m = d[1], O = Object(o.useState)(t), f = Object(u.a)(O, 2), v = f[0], g = f[1]; function y(e) { var t = e.target, n = t.name, o = t.value; (n, o), g((function (e) { return Object(T.a)(Object(T.a)({}, e), {}, Object(I.a)({}, n, o)) })) } var k = v.page_count ? Math.round(parseInt(v.pages_read / v.page_count * 100)) : null; ("count", v.page_count), ("read", parseInt(v.pages_read)), ({ total: k }); s.map((function (e) { return Object(x.jsx)("option", { value: e, children: e }) })); return Object(x.jsxs)("div", { className: "backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [!1 === (null === v || void 0 === v ? void 0 : v.finished) ? "Not Finished" : "Finished", Object(x.jsx)("h2", { children: v.title }), v.image ? Object(x.jsx)("img", { src: v.image, alt: "" }) : Object(x.jsx)("p", { style: { width: "50%" }, className: "noImage t-3 shadow p-3 mb-5 bg-body rounded mt-2 ds-flex justify-content-center", children: "No Image Available" }), Object(x.jsx)("p", { children: "Written by: ".concat(v.author) }), Object(x.jsx)("p", { children: v.description ? Object(x.jsx)(r, { children: Object(x.jsx)(h.a, { text: v.description, min: 25, ideal: 50, max: 1e7, style: { cursor: "pointer" }, readMoreText: i }) }) : null }), v.categories ? Object(x.jsxs)("p", { children: ["Category: ", v.categories] }) : null, v.page_count ? Object(x.jsxs)("p", { children: [v.page_count, " pages"] }) : null, Object(x.jsx)("div", { className: " mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: b ? Object(x.jsxs)("div", { children: [Object(x.jsxs)("form", { onSubmit: function (e) { e.preventDefault(), c(v), m(!1) }, children: [Object(x.jsx)("textarea", { onChange: y, type: "text", value: v.comments, name: "comments", placeholder: "Comments" }), Object(x.jsx)("input", { type: "number", placeholder: "Pages Read:", name: "pages_read", onChange: y, value: v.pages_read }), Object(x.jsx)("button", { className: "btn btn-dark mx-1", type: "submit", children: "Update" })] }), Object(x.jsxs)("div", { className: "col", children: [Object(x.jsx)("button", { className: "btn btn-dark mx-1 mb-5", type: "button", onClick: function () { return m(!1) }, children: "Cancel" }), Object(x.jsx)("button", { type: "button", id: v.id, onClick: function (e) { return n(e) }, className: "btn btn-dark mx-1 mb-5", children: "Remove Book" }), Object(x.jsx)("button", { type: "button", id: v.id, onClick: function () { return a(v) }, className: "btn btn-dark mx-1 mb-5", children: "Mark Complete" })] })] }) : Object(x.jsxs)("div", { children: [Object(x.jsxs)("p", { children: ["My Thoughts: ", v.comments] }), Object(x.jsxs)("p", { children: ["Pages Read: ", v.pages_read] }), Object(x.jsxs)(G.a, { sx: { position: "relative", display: "inline-flex" }, children: [Object(x.jsx)(X.a, { variant: "determinate", value: k }), Object(x.jsx)(G.a, { sx: { top: 0, left: 0, bottom: 0, right: 0, position: "absolute", display: "flex", alignItems: "center", justifyContent: "center" }, children: Object(x.jsx)(U.a, { variant: "caption", component: "div", color: "text.secondary", children: "".concat(Math.round(k), "%") }) })] }), Object(x.jsxs)("p", { children: ["My Rating: ", Object(x.jsx)("span", { className: "font-italic", children: v.options })] }), Object(x.jsx)("button", { className: "btn btn-dark mx-1 mb-5", type: "button", onClick: function () { return m(!0) }, children: "Edit" })] }) })] }) }; var z = function (e) { var t = Object(b.g)(), n = Object(o.useState)(!1), s = Object(u.a)(n, 2), c = s[0]; s[1], ({ edit: c }); var a = Object(o.useState)(), i = Object(u.a)(a, 2), m = i[0], h = i[1], O = Object(o.useState)(), f = Object(u.a)(O, 2), v = (f[0], f[1], Object(o.useState)({ options: "", comments: "", pages_read: null })), g = Object(u.a)(v, 2), y = (g[0], g[1], p.default.p(L || (L = Object(j.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"]))), ["No Good", "Okay", "Good Read", "Loved It"]), k = Object(r.a)(new Set(null === y || void 0 === y ? void 0 : y.map((function (e) { return e })))); function N(e) { return w.apply(this, arguments) } function w() { return (w = Object(d.a)(l.a.mark((function e(t) { var n, o; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return (t.target.id), ("delete function"), e.next = 4, fetch("/api_v1/books/".concat(t.target.id), { method: "DELETE", headers: { "X-CSRFToken": F.a.get("csrftoken") } }); case 4: if (e.sent.ok) { e.next = 9; break } throw new Error("Network response was not OK"); case 9: n = Object(r.a)(m), o = n.findIndex((function (e) { return e.id === t.target.id })), n.splice(o, 1), h(n); case 13: case "end": return e.stop() } }), e) })))).apply(this, arguments) } function C(e) { return S.apply(this, arguments) } function S() { return (S = Object(d.a)(l.a.mark((function e(t) { var n, o, s, c, a; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = { finished: !0, pages_read: t.page_count }, e.next = 3, fetch("/api_v1/books/".concat(t.id, "/"), { method: "PUT", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(n) }); case 3: if ((o = e.sent).ok) { e.next = 8; break } throw new Error("Network response was not OK"); case 8: return e.next = 10, o.json(); case 10: s = e.sent, c = Object(r.a)(m), a = c.findIndex((function (e) { return e.id === s.id })), c[a] = s, h(c); case 15: case "end": return e.stop() } }), e) })))).apply(this, arguments) } Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/books/"); case 2: if ((t = e.sent).ok) { e.next = 7; break } (t), e.next = 13; break; case 7: return e.next = 9, t.json(); case 9: n = e.sent, h(n), ({ data: n }), ({ myBooks: m }); case 13: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }() }), [, e.isAuth]); var I = function () { var e = Object(d.a)(l.a.mark((function e(t) { var n, o, s, c, a, i; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return delete t.finished, typeof t.image !== File && delete t.image, (typeof t.finished), n = new FormData, Object.keys(t).forEach((function (e) { typeof e === Boolean ? n.append(e, JSON.stringify(t[e])) : n.append(e, t[e]), ({ updatedBook: t }) })), o = { method: "PUT", headers: { "X-CSRFToken": F.a.get("csrftoken") }, body: n }, e.next = 9, fetch("/api_v1/books/".concat(t.id, "/"), o); case 9: if ((s = e.sent).ok) { e.next = 14; break } (s), e.next = 21; break; case 14: return e.next = 16, s.json(); case 16: c = e.sent, a = Object(r.a)(m), i = m.findIndex((function (e) { return e.id === t.id })), a[i] = c, h(a); case 21: case "end": return e.stop() } }), e) }))); return function (t) { return e.apply(this, arguments) } }(), T = null === m || void 0 === m ? void 0 : m.map((function (e) { return e.finished ? null : Object(x.jsxs)("div", { children: [(e), Object(x.jsx)(q, { book: e, finishBook: C, deleteBook: N, handleUpdate: I, options: k })] }) })), B = null === m || void 0 === m ? void 0 : m.map((function (e) { return e.finished ? Object(x.jsxs)("div", { children: [(e), Object(x.jsx)(J, { book: e, handleUpdate: I, deleteBook: N, options: k })] }) : null })), _ = null === m || void 0 === m ? void 0 : m.map((function (e) { return !0 === (null === e || void 0 === e ? void 0 : e.finished) ? e.page_count : 0 })); ({ pagesRead: _ }); var A = 0, R = (null === m || void 0 === m || m.map((function (e) { return !0 === (null === e || void 0 === e ? void 0 : e.finished) ? A++ : null })), _ ? _.reduce((function (e, t) { return e + t })) : null); return e.isAuth ? Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsxs)("header", { children: [Object(x.jsx)("div", { children: Object(x.jsx)("button", { className: "btn btn-dark mt-2 ds-flex justify-content-right", onClick: function () { t.push("/books") }, children: "Book Search" }) }), Object(x.jsxs)("div", { className: "mt-3 shadow p-3 mb-5 bg-body col rounded mt-2 d-flex justify-content-start", children: [Object(x.jsxs)("h4", { className: "text-left col", children: ["Total Pages Read: ", parseFloat(R)] }), Object(x.jsxs)("h4", { className: "text-left col", children: ["Total Books Read: ", A] })] })] }), Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("h1", { className: "ds-flex justify-content-center", children: "Profile" }), Object(x.jsxs)("div", { className: "row", children: [Object(x.jsx)("div", { class: "col-6", children: Object(x.jsxs)("div", { className: "Library", children: [Object(x.jsx)("h2", { children: "Current" }), T] }) }), Object(x.jsxs)("div", { className: "col", children: [Object(x.jsx)("h2", { children: "Completed" }), B] })] })] })] }) }) : Object(x.jsx)(b.a, { to: "/login" }) }; var W = function () { return Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("footer", { id: "footer", children: [" \xa9 Carolina Code School Student - Isaac Barcroft", Object(x.jsx)("div", { class: "footButton" })] }) }) }, H = n(152); var K; var Q = function (e) { var t; ({ props: e }); var n = Object(o.useState)(), s = Object(u.a)(n, 2), c = (s[0], s[1], Object(o.useState)(!1)), a = Object(u.a)(c, 2), r = (a[0], a[1], Object(g.b)().enqueueSnackbar), i = Object(b.g)(), l = p.default.p(K || (K = Object(j.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n\n"]))); ("group", null === e || void 0 === e || null === (t = e.group) || void 0 === t ? void 0 : t.name); var d, m, O = Object(x.jsx)("div", { style: { color: "blue" }, className: "readMore", children: "Read More" }); return e.books ? null === (m = e.books.items) || void 0 === m ? void 0 : m.map((function (t) { var n, o, s, c, a; t.volumeInfo.authors.toString(), t.volumeInfo.title, null === (n = t.volumeInfo.description) || void 0 === n || n.toString(), null === (o = t.volumeInfo.categories) || void 0 === o || o.toString(), t.volumeInfo.pageCount, e.group.name; return Object(x.jsxs)("div", { className: "backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsx)("h2", { children: t.volumeInfo.title }), (null === (s = t.volumeInfo.imageLinks) || void 0 === s ? void 0 : s.thumbnail) ? Object(x.jsx)("img", { src: null === (c = t.volumeInfo.imageLinks) || void 0 === c ? void 0 : c.thumbnail, alt: "" }) : Object(x.jsx)("p", { style: { width: "50%" }, className: "noImage t-3 shadow p-3 mb-5 bg-body rounded mt-2 ds-flex justify-content-center", children: "No Image Available" }), Object(x.jsx)("p", { children: "Written by: ".concat(t.volumeInfo.authors) }), Object(x.jsx)("p", { children: t.volumeInfo.description ? Object(x.jsx)(l, { children: Object(x.jsx)(h.a, { text: t.volumeInfo.description, min: 25, ideal: 50, max: 1e7, style: { cursor: "pointer" }, readMoreText: O }) }) : null }), t.volumeInfo.categories ? Object(x.jsxs)("p", { children: ["Category: ", t.volumeInfo.categories] }) : null, t.volumeInfo.pageCount ? Object(x.jsxs)("p", { children: [t.volumeInfo.pageCount, " pages"] }) : null, Object(x.jsx)("form", { children: Object(x.jsx)(v.a, { className: "bookBtn btn btn-dark mx-1", variant: "contained", type: "submit", onClick: (a = "success", function () { r("Added to Group", { variant: a }) }), children: "Add To Group" }) })] }) })) : Object(x.jsx)(x.Fragment, { children: Object(x.jsxs)("div", { className: "container", children: [Object(x.jsx)("div", { children: Object(x.jsx)("button", { className: "btn btn-dark backToGroups", onClick: function () { i.push("/groups") }, children: "Back to Groups" }) }), Object(x.jsxs)("div", { className: "row", children: [Object(x.jsx)("div", { class: "col-6", children: d }), Object(x.jsx)("div", { className: "col shadow p-3 mb-5 bg-body rounded", children: Object(x.jsx)(f, { setBooks: e.setBooks }) })] })] }) }) }; var V = function (e) { var t = Object(o.useState)(), n = Object(u.a)(t, 2), s = n[0], c = n[1]; Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/books/comments"); case 2: return t = e.sent, e.next = 5, t.json(); case 5: n = e.sent, ({ data: n }), c(n); case 8: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }(), ({ comments: s }) }), []), ({ comments: s }); var a = null === s || void 0 === s ? void 0 : s.map((function (e) { return Object(x.jsxs)("div", { className: "comment-list", value: null === e || void 0 === e ? void 0 : e.book, children: [Object(x.jsx)("h4", { children: null === e || void 0 === e ? void 0 : e.user_name }), Object(x.jsx)("p", { children: null === e || void 0 === e ? void 0 : e.body }), Object(x.jsx)("p", { children: null === e || void 0 === e ? void 0 : e.user_name })] }, e.id) })); return Object(x.jsx)(x.Fragment, { children: a }) }; var Y, Z = function (e) { return Object(x.jsx)(x.Fragment, { children: Object(x.jsx)(V, {}) }) }; var $ = function (e) { var t, n, s = Object(b.h)().id, c = Object(o.useState)(), a = Object(u.a)(c, 2), i = a[0], m = a[1], O = Object(g.b)().enqueueSnackbar, f = Object(o.useState)(""), y = Object(u.a)(f, 2), w = (y[0], y[1], Object(o.useState)()), C = Object(u.a)(w, 2), S = C[0], I = C[1], B = Object(x.jsx)("div", { style: { color: "blue" }, className: "readMore", children: "Read More" }), _ = p.default.p(Y || (Y = Object(j.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"]))); function A() { return (A = Object(d.a)(l.a.mark((function t(n, o) { var s, c; return l.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return ({ finished: o }), n.finished = o, n.group = i.id, ({ bookToSubmit: n }), t.next = 6, fetch("/api_v1/books/", { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(n) }); case 6: if ((s = t.sent).ok) { t.next = 10; break } return console.error("There has been a problem with your fetch operation:", s), t.abrupt("return"); case 10: return t.next = 12, s.json(); case 12: c = t.sent, m((function (e) { return Object(T.a)(Object(T.a)({}, e), {}, { books: [].concat(Object(r.a)(e.books), [c]) }) })), e.setBooks(); case 15: case "end": return t.stop() } }), t) })))).apply(this, arguments) } if (Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/groups/".concat(s)); case 2: return t = e.sent, e.next = 5, t.json(); case 5: n = e.sent, m(n); case 7: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }() }), []), Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/books/comments"); case 2: return t = e.sent, e.next = 5, t.json(); case 5: n = e.sent, ({ data: n }), I(n); case 8: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }(), ({ comments: S }) }), []), !i) return Object(x.jsx)("div", { children: "Loading ..." }); t = e.books ? null === (n = e.books.items) || void 0 === n ? void 0 : n.map((function (e) { var t, n, o, s, c, a; ("book", e); var r, i = { author: null === (t = e.volumeInfo.authors) || void 0 === t ? void 0 : t.toString(), title: e.volumeInfo.title, image: null === (n = e.volumeInfo.imageLinks) || void 0 === n ? void 0 : n.thumbnail, description: null === (o = e.volumeInfo.description) || void 0 === o ? void 0 : o.toString(), categories: null === (s = e.volumeInfo.categories) || void 0 === s ? void 0 : s.toString(), page_count: e.volumeInfo.pageCount }; return Object(x.jsxs)("div", { className: "backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2", children: [Object(x.jsx)("h2", { children: e.volumeInfo.title }), (null === (c = e.volumeInfo.imageLinks) || void 0 === c ? void 0 : c.thumbnail) ? Object(x.jsx)("img", { src: null === (a = e.volumeInfo.imageLinks) || void 0 === a ? void 0 : a.thumbnail, alt: "" }) : Object(x.jsx)("p", { style: { width: "50%" }, className: "noImage t-3 shadow p-3 mb-5 bg-body rounded mt-2 ds-flex justify-content-center", children: "No Image Available" }), Object(x.jsx)("p", { children: "Written by: ".concat(e.volumeInfo.authors) }), Object(x.jsx)("p", { children: e.volumeInfo.description ? Object(x.jsx)(_, { children: Object(x.jsx)(h.a, { text: e.volumeInfo.description, min: 25, ideal: 50, max: 1e7, style: { cursor: "pointer" }, readMoreText: B }) }) : null }), e.volumeInfo.categories ? Object(x.jsxs)("p", { children: ["Category: ", e.volumeInfo.categories] }) : null, e.volumeInfo.pageCount ? Object(x.jsxs)("p", { children: [e.volumeInfo.pageCount, " pages"] }) : null, Object(x.jsx)(v.a, { className: "bookBtn btn btn-dark mx-1", variant: "contained", type: "submit", onClick: (r = "success", function () { !function (e, t) { A.apply(this, arguments) }(i), O("Added to Completed", { variant: r }) }), children: "Add To Group" })] }) })) : i.books.map((function (e) { return Object(x.jsxs)("div", { id: e.id, className: "mb-5", children: [Object(x.jsx)(k.b, { style: { textDecoration: "none" }, to: "/groups/".concat(s, "/books/").concat(e.id), children: Object(x.jsx)("h3", { children: e.title }) }), Object(x.jsx)("p", { children: e.author }), Object(x.jsx)("img", { src: e.image })] }) })); var R = i.name.match(/\b(\w)/g).join(""), L = null === R || void 0 === R ? void 0 : R.toUpperCase(), D = i.members.map((function (e) { return Object(x.jsx)("div", { children: Object(x.jsx)("h4", { children: e.username }) }) })); return Object(x.jsx)("div", { className: "container", children: Object(x.jsxs)("div", { className: "row", children: [Object(x.jsx)("div", { className: "col-8", children: Object(x.jsxs)("div", { className: "group mt-3 shadow p-3 mb-5 bg-body rounded mt-2", id: null === i || void 0 === i ? void 0 : i.id, children: [Object(x.jsx)("h2", { className: "groupTitle", children: null === i || void 0 === i ? void 0 : i.name }), Object(x.jsx)(N.a, { style: { fontFamily: "Mochiy Pop P One", position: "absolute", right: "10px" }, className: "groupAvatar", sx: { bgcolor: H.a[500] }, children: L }), Object(x.jsxs)("h3", { children: ["Members: ", D] }), Object(x.jsxs)("h3", { children: ["Books: ", t] })] }) }), Object(x.jsx)("div", { className: "col mt-5", children: Object(x.jsx)(Q, { setBooks: e.setBooks }) })] }) }) }; var ee = function (e) { var t = Object(o.useState)([]), n = Object(u.a)(t, 2), s = n[0], c = n[1]; function a() { return a = Object(d.a)(l.a.mark((function t(n, o) { var s, c, a, i, d; return l.a.wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return s = { name: o }, (o), ("JOIN GROUP"), t.next = 5, fetch("/api_v1/groups/".concat(n, "/groups/"), { method: "PUT", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(s) }); case 5: if ((c = t.sent).ok) { t.next = 10; break } throw new Error("Network response was not OK"); case 10: return t.next = 12, c.json(); case 12: a = t.sent, i = Object(r.a)(e.groups), d = i.findIndex((function (e) { return e.id === a.id })), i[d] = a, e.setGroups(i); case 17: case "end": return t.stop() } }), t) }))), a.apply(this, arguments) } ({ group: s }), Object(b.g)(), ("selectedBook", e.selectedBook), ("comments", e.comments), ("select", e.selectedBook), e.groups.map((function (t) { return Object(x.jsx)("div", { children: Object(x.jsx)("button", { className: "btn btn-dark", onClick: e.getGroupComments, type: "button", value: t.id, children: t.name }, t.name) }) })); var i = e.groups.map((function (e) { return e.members })), j = i.map((function (e) { return e })); ({ membersName: j }), ({ members: i }); var m = e.groups.map((function (e) { var t, n = e.name.match(/\b(\w)/g).join("").toUpperCase(), o = e.members.map((function (e) { return Object(x.jsx)("div", { children: Object(x.jsx)("h4", { children: e.username }) }) })), s = null === (t = e.books) || void 0 === t ? void 0 : t.map((function (e) { return Object(x.jsx)("div", { children: Object(x.jsx)("h5", { children: e.title }) }) })); return Object(x.jsx)(k.c, { style: { textDecoration: "none", color: "black" }, to: "/groups/".concat(e.id), children: Object(x.jsxs)("div", { className: "row group mt-3 shadow p-3 mb-5 bg-body rounded mt-3", children: [Object(x.jsxs)("div", { className: "col bookDiv", children: [Object(x.jsx)(N.a, { style: { fontFamily: "Mochiy Pop P One", position: "absolute", right: "10px" }, className: "groupAvatar", sx: { bgcolor: H.a[500] }, children: n }), Object(x.jsx)("h2", { className: "groupTitle", children: e.name }), Object(x.jsxs)("div", { children: [Object(x.jsx)("h4", { children: "Books:" }), Object(x.jsx)("h5", { style: { fontStyle: "italic" }, children: s })] }), Object(x.jsx)("div", { className: "border" }), Object(x.jsx)("div", { className: "col", children: Object(x.jsx)("p", { children: e.members.username }) }), Object(x.jsx)("button", { className: "btn btn-dark joinGroupBtn", id: e.id, onClick: function () { return function (e, t) { return a.apply(this, arguments) }(e.id, e.name) }, children: "Join Group" })] }), Object(x.jsxs)("h3", { children: ["Members:", o] })] }) }) })); return Object(x.jsxs)(x.Fragment, { children: [Object(x.jsx)("h1", { children: "Groups" }), Object(x.jsx)("div", {}), Object(x.jsx)("div", { className: "container", children: Object(x.jsxs)("div", { className: "row", children: [Object(x.jsx)("div", { class: "col-8", children: m }), Object(x.jsx)("div", { className: "col", children: Object(x.jsxs)("div", { className: "addGroup", children: [Object(x.jsx)("h3", { children: "Add A Club" }), Object(x.jsx)("nav", { className: "nav-bar" }), Object(x.jsxs)("form", { className: "group-form", onSubmit: function (t) { t.preventDefault(), e.addGroup(s), c("") }, children: [Object(x.jsx)("input", { type: "text", placeholder: "Add Group", name: "new-group", onChange: function (e) { c(e.target.value) }, style: { width: "50%" } }), Object(x.jsx)("button", { type: "submit", className: "btn btn-dark addGroup-btn", children: "Add Group" })] })] }) })] }) })] }) }; n(154), n(160), n(90); var te = function (e) { var t = Object(o.useState)({ username: "", email: "", is_staff: null }), n = Object(u.a)(t, 2), s = n[0], c = n[1], a = Object(o.useState)({ alias: "", image: null }), i = Object(u.a)(a, 2), j = (i[0], i[1], Object(o.useState)({ username: "", password: "" })), m = Object(u.a)(j, 2), h = m[0], p = m[1], O = Object(o.useState)(null), f = Object(u.a)(O, 2), v = f[0], g = f[1], k = Object(o.useState)(), N = Object(u.a)(k, 2), w = N[0], I = N[1], T = Object(b.g)(), B = Object(o.useState)([]), A = Object(u.a)(B, 2), R = A[0], L = A[1], P = Object(o.useState)(), G = Object(u.a)(P, 2), E = G[0], U = G[1], J = Object(o.useState)({ id: 0, name: "" }), X = Object(u.a)(J, 2), q = X[0], H = X[1]; function K(e) { return V.apply(this, arguments) } function V() { return (V = Object(d.a)(l.a.mark((function e(t) { var n, o, s; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = { name: t }, (t), e.next = 4, fetch("/api_v1/groups/", { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(n) }); case 4: if ((o = e.sent).ok) { e.next = 9; break } throw new Error("Network response was not OK"); case 9: return e.next = 11, o.json(); case 11: s = e.sent, L([].concat(Object(r.a)(R), [s])); case 13: case "end": return e.stop() } }), e) })))).apply(this, arguments) } function Y(e) { return te.apply(this, arguments) } function te() { return (te = Object(d.a)(l.a.mark((function e(t) { var n, o, s; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return ("etv", t.target.value), e.next = 3, fetch("/api_v1/books/".concat(t.target.value, "/comments/")); case 3: return n = e.sent, e.next = 6, n.json(); case 6: o = e.sent, s = null === w || void 0 === w ? void 0 : w.find((function (e) { return e.id.toString() === t.target.value })), ({ data: o }), U(o), H(s), ({ matchedBook: s }), ("comments", E), Y(), ({ comments: E }); case 15: case "end": return e.stop() } }), e) })))).apply(this, arguments) } function ne(e, t) { return oe.apply(this, arguments) } function oe() { return (oe = Object(d.a)(l.a.mark((function e(t, n) { var o; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return ({ finished: n }), t.finished = n, ({ bookToSubmit: t }), e.next = 5, fetch("/api_v1/books/", { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(t) }); case 5: (o = e.sent).ok && (o); case 7: case "end": return e.stop() } }), e) })))).apply(this, arguments) } function se(e, t, n, o, s, c) { return ce.apply(this, arguments) } function ce() { return (ce = Object(d.a)(l.a.mark((function e(t, n, o, s, c, a) { var r, i; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return ({ author: t }), ({ title: n }), ({ description: o }), ({ categories: c }), r = { author: t, title: n, description: o, image: s, categories: c, page_count: a }, e.next = 7, fetch("/api_v1/books/", { method: "PUT", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(r) }); case 7: (i = e.sent).ok && (i); case 9: case "end": return e.stop() } }), e) })))).apply(this, arguments) } function ae() { return (ae = Object(d.a)(l.a.mark((function e(t) { var n, o; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = { method: "POST", headers: { "Content-Type": "application/json", "X-CSRFToken": F.a.get("csrftoken") }, body: JSON.stringify(h) }, e.next = 3, fetch("/rest-auth/logout/", n); case 3: if (o = e.sent) { e.next = 8; break } (o), e.next = 15; break; case 8: return (o), e.next = 11, o.json(); case 11: e.sent, F.a.remove("Authorization"), g(!1), T.push("/login"); case 15: b.a; case 16: case "end": return e.stop() } }), e) })))).apply(this, arguments) } return Object(o.useEffect)((function () { function e() { return (e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/api_v1/groups/"); case 2: return t = e.sent, e.next = 5, t.json(); case 5: n = e.sent, ({ data: n }), L(n), ("groups", R); case 9: case "end": return e.stop() } }), e) })))).apply(this, arguments) } !function () { e.apply(this, arguments) }(), ({ groups: R }) }), []), Object(o.useEffect)((function () { var e = function () { var e = Object(d.a)(l.a.mark((function e() { var t, n; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/rest-auth/user/"); case 2: if ((t = e.sent).ok) { e.next = 8; break } ("not ok"), g(!1), e.next = 16; break; case 8: return e.next = 10, t.json(); case 10: n = e.sent, c(n), ({ data: n }), g(!0), ({ admin: s }), (s.is_staff); case 16: case "end": return e.stop() } }), e) }))); return function () { return e.apply(this, arguments) } }(); e() }), [v]), Object(x.jsxs)("div", { className: "App", children: [Object(x.jsx)(C, { handleLogoutSubmit: function (e) { return ae.apply(this, arguments) }, isAuth: v, admin: s }), Object(x.jsxs)(b.d, { children: [Object(x.jsx)(b.b, { path: "/groupsearch", children: Object(x.jsx)(Q, { books: w, addBookToLibrary: ne, groups: R, addBookForLater: se, setBooks: I }) }), Object(x.jsx)(b.b, { path: "/profile", children: Object(x.jsx)(z, { books: w, isAuth: v, admin: s }) }), Object(x.jsx)(b.b, { path: "/groups/:id", children: Object(x.jsx)($, { selectedBook: q, comments: E, setComments: U, groups: R, setGroups: L, addGroup: K, setBooks: I, books: w, addBookToLibrary: ne }) }), Object(x.jsx)(b.b, { path: "/groups", children: Object(x.jsx)(ee, { getGroupComments: Y, selectedBook: q, comments: E, setComments: U, groups: R, setGroups: L, addGroup: K, setBooks: I }) }), Object(x.jsx)(b.b, { path: "/groups/:id/books/:id", children: Object(x.jsx)(Z, {}) }), Object(x.jsx)(b.b, { path: "/login", children: Object(x.jsx)(_, { isAuth: v, setIsAuth: g, users: h, setUsers: p }) }), Object(x.jsx)(b.b, { path: "/register", children: Object(x.jsx)(D, { isAuth: v, setIsAuth: g }) }), Object(x.jsx)(b.b, { path: "/books", children: Object(x.jsx)(y, { books: w, addBookToLibrary: ne, groups: R, addBookForLater: se, setBooks: I }) }), Object(x.jsx)(b.b, { path: "/home", children: Object(x.jsx)(S, { books: w, groups: R, users: h, isAuth: v }) })] }), Object(x.jsx)(M.a, { text: "^", distance: 50, breakpoint: 908, style: { backgroundColor: "#191C1F", color: "white" }, className: "scroll-your-role", speed: 50, target: 0, icon: Object(x.jsx)("i", { class: "bi bi-caret-up-square" }) }), Object(x.jsx)(W, {})] }) }, ne = function (e) { e && e instanceof Function && n.e(3).then(n.bind(null, 164)).then((function (t) { var n = t.getCLS, o = t.getFID, s = t.getFCP, c = t.getLCP, a = t.getTTFB; n(e), o(e), s(e), c(e), a(e) })) }; a.a.render(Object(x.jsx)(s.a.StrictMode, { children: Object(x.jsx)(k.a, { children: Object(x.jsx)(g.a, { maxSnack: 3, children: Object(x.jsx)(te, {}) }) }) }), document.getElementById("root")), ne() } }, [[126, 1, 2]]]);
//# sourceMappingURL=main.39299875.chunk.js.map